[{"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/index.js":"1","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/App.js":"2","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Home.js":"3","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Offer.js":"4","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/components/Header.js":"5","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/components/Articles.js":"6","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Signup.js":"7","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Login.js":"8","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/components/Range.js":"9","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Publish.js":"10","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/components/CheckSwitch.js":"11","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Payment.js":"12","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/components/CheckOutForm.js":"13"},{"size":219,"mtime":1612969668726,"results":"14","hashOfConfig":"15"},{"size":2154,"mtime":1613495542097,"results":"16","hashOfConfig":"15"},{"size":1433,"mtime":1613468778813,"results":"17","hashOfConfig":"15"},{"size":2506,"mtime":1613500319529,"results":"18","hashOfConfig":"15"},{"size":2148,"mtime":1613476348189,"results":"19","hashOfConfig":"15"},{"size":671,"mtime":1613467618442,"results":"20","hashOfConfig":"15"},{"size":2743,"mtime":1613475160608,"results":"21","hashOfConfig":"15"},{"size":2104,"mtime":1613475155484,"results":"22","hashOfConfig":"15"},{"size":877,"mtime":1613476187804,"results":"23","hashOfConfig":"15"},{"size":4813,"mtime":1613475311533,"results":"24","hashOfConfig":"15"},{"size":2069,"mtime":1613476120522,"results":"25","hashOfConfig":"15"},{"size":1235,"mtime":1613513229581,"results":"26","hashOfConfig":"15"},{"size":1542,"mtime":1613514742413,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"5j1oxt",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"30"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"30"},"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/index.js",[],["58","59"],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/App.js",[],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Home.js",[],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Offer.js",[],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/components/Header.js",[],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/components/Articles.js",[],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Signup.js",[],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Login.js",[],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/components/Range.js",[],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Publish.js",[],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/components/CheckSwitch.js",[],["60","61"],"/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/containers/Payment.js",["62"],"import axios from \"axios\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport CheckOutForm from \"../components/CheckOutForm\";\nimport { useLocation } from \"react-router-dom\";\n\nconst Payment = () => {\n  // data from offer container\n  const location = useLocation();\n  const { title, price } = location.state;\n  const transport = price / 20;\n  const total = Number(price) + Number(transport);\n  // Stripe public key\n  const stripePromise = loadStripe(\n    \"pk_test_51ILSaaG38Od39rX28UkjJMDGh8BRwguGp6uB7gz4EODjm1gOlsOzTWXNJMrMOsM4VwFu5snwtXjOWLN0ERfKRwL100FYPJ7ooJ\"\n  );\n\n  return (\n    <div className=\"payment-body\">\n      <div className=\"payment-container\">\n        <div className=\"payment-summary\">\n          <span>MON PANIER</span>\n          <div className=\"content\">\n            <ul>\n              <li>Commande : {title}</li>\n              <li>Prix : {price}€</li>\n              <li>Livraison : {transport}€</li>\n              <li>TOTAL : {total}€</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <Elements stripe={stripePromise}>\n        <CheckOutForm total={total} title={title} />\n      </Elements>\n    </div>\n  );\n};\n\nexport default Payment;\n","/Users/thomasbosson/Desktop/LeReacteur/React/vinted-react/src/components/CheckOutForm.js",["63"],"import { useStripe, useElements, CardElement } from \"@stripe/react-stripe-js\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst CheckOutForm = ({ total, title }) => {\n  const stripe = useStripe();\n  const elements = useElements();\n  const [succeed, setSucceed] = useState(\"\");\n  const history = useHistory();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      // Stripe get bank data input by the user\n      const cardElement = elements.getElement(CardElement);\n      // Request creation of token with Stripes's API\n      const stripeResponse = await stripe.createToken(cardElement, {\n        // Get user Id\n        name: \"id du user\",\n      });\n      // console.log(stripeResponse);\n      // Token storage\n      const stripeToken = stripeResponse.token.id;\n\n      // Get request to server\n      const response = await axios.post(\n        // \"http://localhost:3000/payment\",\n        \"https://thomas-vinted-api.herokuapp.com/payment\",\n        {\n          stripeToken: stripeToken,\n          amount: total,\n          title: title,\n        }\n      );\n      setSucceed(\"Paiement validé ! Merci pour votre commande\");\n      history.push(\"/\");\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"payment-form\">\n      <CardElement />\n      <button type=\"submit\">Valider votre paiement</button>\n      <span>{succeed}</span>\n    </form>\n  );\n};\n\nexport default CheckOutForm;\n",{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","replacedBy":"67"},{"ruleId":"64","replacedBy":"68"},{"ruleId":"66","replacedBy":"69"},{"ruleId":"70","severity":1,"message":"71","line":1,"column":8,"nodeType":"72","messageId":"73","endLine":1,"endColumn":13},{"ruleId":"70","severity":1,"message":"74","line":28,"column":13,"nodeType":"72","messageId":"73","endLine":28,"endColumn":21},"no-native-reassign",["75"],"no-negated-in-lhs",["76"],["75"],["76"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","'response' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]